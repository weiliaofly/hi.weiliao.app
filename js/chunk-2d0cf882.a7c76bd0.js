(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cf882"],{"63b1":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Card",[a("tables",{ref:"tables",attrs:{searchable:"",searchInputAble:"",columns:e.columns,showAddBtn:!0},on:{"on-add":e.handleAdd,"on-edit":e.handleEdit,"on-delete":e.handleDelete},model:{value:e.tableData,callback:function(t){e.tableData=t},expression:"tableData"}})],1),a("Modal",{attrs:{title:e.couponModalTitle,"class-name":"vertical-center-modal","footer-hide":"","mask-closable":!1},on:{"on-cancel":e.cancelFormModal},model:{value:e.couponModal,callback:function(t){e.couponModal=t},expression:"couponModal"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":100}},[a("FormItem",{attrs:{label:"优惠券名称",prop:"name"}},[a("Input",{attrs:{placeholder:"Enter your name",clearable:""},model:{value:e.formValidate.name,callback:function(t){e.$set(e.formValidate,"name",t)},expression:"formValidate.name"}})],1),a("FormItem",{attrs:{label:"价值",prop:"value"}},[a("Input",{attrs:{type:"number",placeholder:"Enter your value"},model:{value:e.formValidate.value,callback:function(t){e.$set(e.formValidate,"value",t)},expression:"formValidate.value"}})],1),a("FormItem",{attrs:{label:"使用门槛",prop:"threshold"}},[a("Input",{attrs:{type:"number",placeholder:"Enter your threshold"},model:{value:e.formValidate.threshold,callback:function(t){e.$set(e.formValidate,"threshold",t)},expression:"formValidate.threshold"}})],1),a("FormItem",{attrs:{label:"有效期",prop:"effectiveTime"}},[a("Input",{attrs:{type:"number",placeholder:"Enter your effectiveTime"},model:{value:e.formValidate.effectiveTime,callback:function(t){e.$set(e.formValidate,"effectiveTime",t)},expression:"formValidate.effectiveTime"}})],1),a("FormItem",{attrs:{label:"状态",prop:"state"}},[a("RadioGroup",{model:{value:e.formValidate.state,callback:function(t){e.$set(e.formValidate,"state",t)},expression:"formValidate.state"}},[a("Radio",{attrs:{label:"0"}},[e._v("启用")]),a("Radio",{attrs:{label:"1"}},[e._v("禁用")])],1)],1),a("div",{staticClass:"flex-center"},[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("提交")]),a("Button",{staticClass:"mgl10",on:{click:function(t){return e.handleReset("formValidate")}}},[e._v("重置")])],1)],1)],1)],1)},o=[],r=(a("7f7f"),a("fa69")),i=a("7e1e"),n={name:"coupon_management",components:{Tables:r["a"]},data:function(){return{columns:[{title:"选项",type:"selection",width:45,key:"selection"},{title:"序号",type:"index",key:"index",width:80,align:"center"},{title:"名称",key:"name"},{title:"价值（元）",key:"value"},{title:"使用门槛（元）",key:"threshold"},{title:"有效期（天）",key:"effectiveTime"},{title:"状态",key:"state",render:function(e,t){var a="0"===t.row.state?"success":"error",l="0"===t.row.state?"启用":"禁用";return e("Tag",{props:{color:a}},l)}},{title:"操作",key:"handle",options:["delete","edit"]}],formValidate:{name:"",value:5,threshold:0,effectiveTime:3,state:"0"},ruleValidate:{name:[{required:!0,message:"优惠券名称不能为空",trigger:"blur"}],value:[{required:!0,type:"number",message:"优惠券价值不能为空且必须为数字",trigger:"blur"}],threshold:[{required:!0,type:"number",message:"使用门槛不能为空且必须为数字",trigger:"blur"}],effectiveTime:[{required:!0,type:"number",message:"有效期不能为空且必须为数字",trigger:"blur"}],state:[{required:!0,message:"状态不能为空",trigger:"change"}]},couponModal:!1,couponModalTitle:"",tableData:[]}},methods:{handleAdd:function(e){this.couponModalTitle="新增优惠券",this.couponModal=e},handleEdit:function(e){this.couponModalTitle="修改优惠券",this.formValidate.name=e.row.name,this.formValidate.value=e.row.value,this.formValidate.threshold=e.row.threshold,this.formValidate.effectiveTime=e.row.effectiveTime,this.formValidate.state=e.row.state,this.couponModal=!0},handleDelete:function(e){this.tableData=this.tableData.filter(function(t,a){return a!==e.row.initRowIndex})},cancelFormModal:function(){this.handleReset("formValidate")},handleSubmit:function(e){var t=this,a=this;a.$refs[e].validate(function(l){l&&(a.couponModal=!1,t.$refs[e].resetFields(),a.$Message.success("提交成功!"))})},handleReset:function(e){this.$refs[e].resetFields()}},mounted:function(){var e=this;Object(i["h"])().then(function(t){e.tableData=t.data})}},s=n,d=a("2877"),c=Object(d["a"])(s,l,o,!1,null,"7a9137ad",null);t["default"]=c.exports}}]);