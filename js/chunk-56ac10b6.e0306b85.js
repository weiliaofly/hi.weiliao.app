(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56ac10b6"],{"623c":function(e,t,a){},a565:function(e,t,a){"use strict";var r=a("623c"),l=a.n(r);l.a},da5d:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Card",[a("tables",{ref:"tables",attrs:{searchable:"",searchInputAble:"",columns:e.columns,showAddBtn:!0,showExportExcelBtn:!0},on:{"on-detail":e.handleDetail,"on-add":e.handleAdd,"on-edit":e.handleEdit,"on-delete":e.handleDelete,"on-resetKey":e.handleResetKey},model:{value:e.tableData,callback:function(t){e.tableData=t},expression:"tableData"}})],1),a("Modal",{attrs:{title:"用户详情",width:"980","footer-hide":"","class-name":"vertical-center-modal"},model:{value:e.userDetailModal,callback:function(t){e.userDetailModal=t},expression:"userDetailModal"}},[a("Form",{attrs:{"label-width":80}},[a("Row",{attrs:{gutter:16,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"头像"}},[a("span",{on:{click:function(t){e.picturePreviewModal=!0}}},[a("Avatar",{attrs:{src:e.tableDetailDataObj.avatar}})],1)])],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"中文名"}},[a("span",[e._v(e._s(e.tableDetailDataObj.cnName))])])],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"英文名"}},[a("span",[e._v(e._s(e.tableDetailDataObj.enName))])])],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"角色"}},[a("span",[e._v(e._s(e.tableDetailDataObj.role))])])],1)],1),a("Row",{attrs:{gutter:16,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"电话"}},[a("span",[e._v(e._s(e.tableDetailDataObj.telephone))])])],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"邮箱"}},[a("span",[e._v(e._s(e.tableDetailDataObj.email))])])],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"部门"}},[a("span",[e._v(e._s(e.tableDetailDataObj.departmentName))])])],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"状态"}},[a("span",[e._v(e._s(0===e.tableDetailDataObj.state?"启用":"禁用"))])])],1)],1),a("Row",{attrs:{gutter:16,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"创建时间"}},[a("span",[e._v(e._s(e.tableDetailDataObj.createTime))])])],1)],1)],1)],1),a("Modal",{attrs:{title:e.userFormModalTitle,"class-name":"vertical-center-modal","footer-hide":"","mask-closable":!1},on:{"on-cancel":e.cancelFormModal},model:{value:e.addOrUpdateUserFormModal,callback:function(t){e.addOrUpdateUserFormModal=t},expression:"addOrUpdateUserFormModal"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80}},[a("div",{staticClass:"flex-center mgb10"},[a("div",[a("div",{staticClass:"flex-center mgb10"},[a("Avatar",{attrs:{src:e.formValidate.avatar,size:"large"}})],1),a("Button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.cropperModal=!0}}},[e._v("上传头像")])],1)]),a("FormItem",{attrs:{label:"中文名",prop:"cnName"}},[a("Input",{attrs:{placeholder:"Enter your name",clearable:""},model:{value:e.formValidate.cnName,callback:function(t){e.$set(e.formValidate,"cnName",t)},expression:"formValidate.cnName"}})],1),a("FormItem",{attrs:{label:"英文名",prop:"enName"}},[a("Input",{attrs:{placeholder:"Enter your enName",clearable:""},model:{value:e.formValidate.enName,callback:function(t){e.$set(e.formValidate,"enName",t)},expression:"formValidate.enName"}})],1),a("FormItem",{attrs:{label:"邮箱",prop:"email"}},[a("Input",{attrs:{placeholder:"Enter your e-mail",clearable:""},model:{value:e.formValidate.email,callback:function(t){e.$set(e.formValidate,"email",t)},expression:"formValidate.email"}})],1),a("FormItem",{attrs:{label:"电话",prop:"telephone"}},[a("Input",{attrs:{placeholder:"Enter your telephone",clearable:""},model:{value:e.formValidate.telephone,callback:function(t){e.$set(e.formValidate,"telephone",t)},expression:"formValidate.telephone"}})],1),a("FormItem",{attrs:{label:"部门",prop:"department"}},[a("Select",{attrs:{placeholder:"Select your department"},model:{value:e.formValidate.department,callback:function(t){e.$set(e.formValidate,"department",t)},expression:"formValidate.department"}},[a("Option",{attrs:{value:"0"}},[e._v("研发部")]),a("Option",{attrs:{value:"1"}},[e._v("运营部")]),a("Option",{attrs:{value:"2"}},[e._v("产品部")]),a("Option",{attrs:{value:"3"}},[e._v("人事部")])],1)],1),a("FormItem",{attrs:{label:"状态",prop:"state"}},[a("RadioGroup",{model:{value:e.formValidate.state,callback:function(t){e.$set(e.formValidate,"state",t)},expression:"formValidate.state"}},[a("Radio",{attrs:{label:"0"}},[e._v("正常")]),a("Radio",{attrs:{label:"1"}},[e._v("禁用")])],1)],1),a("div",{staticClass:"flex-center"},[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("提交")]),a("Button",{staticClass:"mgl10",on:{click:function(t){return e.handleReset("formValidate")}}},[e._v("重置")])],1)],1)],1),a("Modal",{attrs:{title:"上传头像","class-name":"vertical-center-modal",width:"620","mask-closable":!1},model:{value:e.cropperModal,callback:function(t){e.cropperModal=t},expression:"cropperModal"}},[a("Cropper")],1),a("Modal",{attrs:{title:"点击图片预览","class-name":"vertical-center-modal",width:"620","footer-hide":"","mask-closable":!1},model:{value:e.picturePreviewModal,callback:function(t){e.picturePreviewModal=t},expression:"picturePreviewModal"}},[a("viewer",{staticClass:"flex-center",attrs:{images:e.previewPictureData}},e._l(e.previewPictureData,function(e){return a("div",{key:e.img,staticClass:"detailed"},[a("img",{attrs:{src:e.img,alt:""}})])}),0)],1),a("Modal",{attrs:{title:"重置密码","class-name":"vertical-center-modal","footer-hide":"","mask-closable":!1},on:{"on-cancel":e.cancelFormModal},model:{value:e.resetePasswordFormModal,callback:function(t){e.resetePasswordFormModal=t},expression:"resetePasswordFormModal"}},[a("Form",{ref:"formCustom",attrs:{model:e.formCustom,rules:e.ruleCustom,"label-width":80}},[a("FormItem",{attrs:{label:"新密码",prop:"passwd"}},[a("Input",{attrs:{type:"password"},model:{value:e.formCustom.passwd,callback:function(t){e.$set(e.formCustom,"passwd",t)},expression:"formCustom.passwd"}}),a("p",[e._v(" 默认密码：abc123456")])],1),a("div",{staticClass:"flex-center"},[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formCustom")}}},[e._v("提交")])],1)],1)],1)],1)},l=[],o=(a("7f7f"),a("ac6a"),a("fa69")),s=a("9ffe"),i=a("7e1e"),n={name:"system_user",components:{Tables:o["a"],Cropper:s["a"]},data:function(){var e=this,t=function(e,t,a){return t?/^1[34578]\d{9}$/.test(t)?void a():a(new Error("请输入正确的手机号码")):a(new Error("手机号码不能为空"))};return{columns:[{title:"选项",type:"selection",width:45,key:"selection"},{title:"序号",type:"index",key:"index",width:80,align:"center"},{title:"中文名",key:"cnName"},{title:"英文名",key:"enName"},{title:"头像",key:"avatar",render:function(t,a){return t("div",[t("img",{attrs:{src:a.row.avatar},class:"table-img",on:{click:function(){e.picturePreviewModal=!0}}})])}},{title:"部门",key:"department",render:function(e,t){var a="0"===t.row.department?"研发部":"1"===t.row.department?"运营部":"2"===t.row.department?"产品部":"人事部",r="0"===t.row.department?"cyan":"1"===t.row.department?"blue":"2"===t.row.department?"geekblue":"purple";return e("Tag",{props:{color:r}},a)}},{title:"角色",key:"role"},{title:"邮箱",key:"email"},{title:"电话",key:"telephone"},{title:"创建时间",key:"createTime",sortable:!0},{title:"状态",key:"state",render:function(e,t){var a="0"===t.row.state?"success":"error",r="0"===t.row.state?"正常":"禁用";return e("Tag",{props:{color:a}},r)}},{title:"操作",key:"handle",options:["detail","delete","edit","resetKey"]}],tableData:[],tableDetailDataObj:{},userFormModalTitle:"新增系统用户",userDetailModal:!1,addOrUpdateUserFormModal:!1,picturePreviewModal:!1,cropperModal:!1,resetePasswordFormModal:!1,formCustom:{passwd:"abc123456"},ruleCustom:{passwd:[{required:!0,message:"密码不能为空",trigger:"blur"}]},formValidate:{cnName:"",enName:"",avatar:"https://i.loli.net/2017/08/21/599a521472424.jpg",email:"",telephone:"",department:"0",state:"0"},previewPictureData:[{img:"https://i.loli.net/2017/08/21/599a521472424.jpg"}],ruleValidate:{cnName:[{required:!0,message:"中文名不能为空",trigger:"blur"}],enName:[{required:!0,message:"英文名不能为空",trigger:"blur"}],telephone:[{required:!0,validator:t,trigger:"blur"}],email:[{required:!0,message:"Mailbox cannot be empty",trigger:"blur"},{type:"email",message:"Incorrect email format",trigger:"blur"}],department:[{required:!0,message:"请选择部门",trigger:"change"}],state:[{required:!0,message:"状态不能为空",trigger:"change"}]}}},mounted:function(){var e=this;Object(i["v"])().then(function(t){e.tableData=t.data})},methods:{handleDetail:function(e){this.userDetailModal=!0,this.tableDetailDataObj={},this.tableDetailDataObj=this.tableData[e.index]},handleAdd:function(e){this.userFormModalTitle="新增系统用户",this.addOrUpdateUserFormModal=e},handleEdit:function(e){this.userFormModalTitle="修改系统用户",this.formValidate.cnName=e.row.cnName,this.formValidate.enName=e.row.enName,this.formValidate.avatar=e.row.avatar,this.formValidate.email=e.row.email,this.formValidate.telephone=e.row.telephone,this.formValidate.department=e.row.department,this.formValidate.state=e.row.state,this.addOrUpdateUserFormModal=!0},handleDelete:function(e){this.tableData=this.tableData.filter(function(t,a){return a!==e.row.initRowIndex})},handleBatchDeletion:function(e){var t=this;e.forEach(function(e,a){t.tableData=t.tableData.filter(function(t,a){return a!==e.initRowIndex})}),t.$Message.success("删除成功!")},cancelFormModal:function(){this.handleReset("formValidate")},handleSubmit:function(e){var t=this,a=this;a.$refs[e].validate(function(r){r?(t.resetePasswordFormModal=!1,a.addOrUpdateUserFormModal=!1,t.$refs[e].resetFields(),a.$Message.success("提交成功!")):a.$Message.error("提交失败!")})},handleResetKey:function(e){this.resetePasswordFormModal=!0},handleReset:function(e){this.$refs[e].resetFields()}}},d=n,m=(a("a565"),a("2877")),c=Object(m["a"])(d,r,l,!1,null,"59432aa6",null);t["default"]=c.exports}}]);