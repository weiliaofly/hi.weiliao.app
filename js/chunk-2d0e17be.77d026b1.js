(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e17be"],{"7b41":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Card",[a("Form",{attrs:{"label-width":120}},[a("Row",{attrs:{gutter:16,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"未登录可查条数",prop:"searchNum"}},[a("Select",{staticStyle:{width:"200px"},model:{value:e.searchNum,callback:function(t){e.searchNum=t},expression:"searchNum"}},[a("Option",{attrs:{value:"0"}},[e._v("0")]),a("Option",{attrs:{value:"10"}},[e._v("10")]),a("Option",{attrs:{value:"20"}},[e._v("20")]),a("Option",{attrs:{value:"30"}},[e._v("30")]),a("Option",{attrs:{value:"50"}},[e._v("50")]),a("Option",{attrs:{value:"9999"}},[e._v("9999")])],1)],1)],1),a("Col",{attrs:{span:"3"}},[a("FormItem",{attrs:{label:"消耗金币",prop:"needCoin"}},[a("InputNumber",{attrs:{max:10,min:0},model:{value:e.needCoin,callback:function(t){e.needCoin=t},expression:"needCoin"}})],1)],1),a("Col",{attrs:{span:"3"}},[a("div",{staticClass:"flex-center"},[a("Button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)])],1)],1),a("tables",{ref:"tables",attrs:{searchable:"",searchInputAble:"",columns:e.columns,totalNum:e.totalNum,showAddBtn:!0,showBatchDeletionBtn:!0},on:{"on-add":e.handleAdd,"on-edit":e.handleEdit,"on-top":e.handleTop,"on-delete":e.handleDelete,"on-batch-deletion":e.handleBatchDeletion},model:{value:e.tableData,callback:function(t){e.tableData=t},expression:"tableData"}})],1),a("Modal",{attrs:{title:e.classificationModalTitle,"class-name":"vertical-center-modal","footer-hide":"","mask-closable":!1},on:{"on-cancel":e.cancelFormModal},model:{value:e.classificationModal,callback:function(t){e.classificationModal=t},expression:"classificationModal"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"类目名",prop:"groupName"}},[a("Input",{attrs:{placeholder:"Enter your name",clearable:""},model:{value:e.formValidate.groupName,callback:function(t){e.$set(e.formValidate,"groupName",t)},expression:"formValidate.groupName"}})],1),a("FormItem",{attrs:{label:"类目描述",prop:"description"}},[a("Input",{attrs:{placeholder:"Enter your description",clearable:""},model:{value:e.formValidate.description,callback:function(t){e.$set(e.formValidate,"description",t)},expression:"formValidate.description"}})],1),a("div",{staticClass:"flex-center"},[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("提交")]),a("Button",{staticClass:"mgl10",on:{click:function(t){return e.handleReset("formValidate")}}},[e._v("重置")])],1)],1)],1)],1)},o=[],l=(a("7f7f"),a("ac6a"),a("fa69")),s={name:"talking_skill_top_classification",components:{Tables:l["a"]},data:function(){return{searchNum:"20",totalNum:0,needCoin:0,columns:[{title:"选项",type:"selection",width:45,key:"selection"},{title:"序号",type:"index",key:"index",width:80,align:"center"},{title:"类目名称",key:"groupName"},{title:"类目描述",key:"description"},{title:"类目位置",key:"classificationIndex",render:function(e,t){return e("span",t.row._index+1)}},{title:"操作",key:"handle",options:["delete","edit","top"]}],formValidate:{groupName:"",description:""},ruleValidate:{groupName:[{required:!0,message:"类目名不能为空",trigger:"blur"}],description:[{required:!0,message:"类目描述不能为空",trigger:"blur"}]},isCreate:!0,classificationId:"",classificationModal:!1,classificationModalTitle:"",tableData:[]}},mounted:function(){this.getLabelgroup()},methods:{getLabelgroup:function(){var e=this;this.instance.getLabelgroup("/10/1").then(function(t){200===t.status&&(e.tableData=[],e.totalNum=t.data.total,e.tableData=t.data.datas)}).catch(function(e){console.log(e)})},submit:function(){this.$Message.success("提交成功")},handleAdd:function(e){this.isCreate=!0,this.classificationModalTitle="新增一级类目",this.classificationModal=e},handleEdit:function(e){this.isCreate=!1,this.classificationModalTitle="修改一级类目",this.classificationId=e.row.id,this.formValidate.groupName=e.row.groupName,this.formValidate.description=e.row.description,this.classificationModal=!0},handleDelete:function(e){this.deleteLabelgroupByIds(e.row.id)},handleBatchDeletion:function(e){var t=[];e.forEach(function(e,a){t.push(e.id)}),this.deleteLabelgroupByIds(t.toString())},handleTop:function(e){this.$Message.success("等待后台开发!")},cancelFormModal:function(){this.handleReset("formValidate")},handleSubmit:function(e){var t=this,a=this;a.$refs[e].validate(function(i){if(i){var o={groupName:a.formValidate.groupName,description:a.formValidate.description,fid:"0",creator:"FLMheart"},l="create",s="创建成功";a.isCreate||(l="update",s="修改成功",o.id=a.classificationId),a.instance.createOrUpdateLabelgroup(l,o).then(function(i){200===i.status&&i.data?(t.classificationModal=!1,t.classificationId="",t.$refs[e].resetFields(),t.$Message.success(s),t.getLabelgroup()):a.$Message.info(resp.data)}).catch(function(e){console.log(e)})}})},handleReset:function(e){this.$refs[e].resetFields()},deleteLabelgroupByIds:function(e){var t=this;t.instance.deleteLabelgroupByIds(e).then(function(e){200===e.status&&200===e.data.code?(t.$Message.success("删除成功！"),t.getLabelgroup()):t.$Message.info(resp.data)}).catch(function(e){console.log(e)})}}},n=s,r=a("2877"),c=Object(r["a"])(n,i,o,!1,null,"22b2c6cc",null);t["default"]=c.exports}}]);