(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-194138a8"],{"0d77":function(t,e,a){},8021:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",[a("tables",{ref:"tables",attrs:{searchable:"",searchInputAble:"",columns:t.columns,totalNum:t.totalNum,showAddBtn:!0,showImportExcelBtn:!0,showExportExcelBtn:!0,showBatchDeletionBtn:!0,searchPlaceholder:"输入话术内容可查询"},on:{"on-detail":t.handleDetail,"on-add":t.handleAdd,"on-edit":t.handleEdit,"on-delete":t.handleDelete,"on-search":t.handleSearch,"on-batch-deletion":t.handleBatchDeletion,"on-change-page-index":t.handleChangePageIndex,"on-change-page-size":t.handleChangePageSize,"on-upload-excel":t.handleUploadExcel},model:{value:t.tableData,callback:function(e){t.tableData=e},expression:"tableData"}})],1),a("Modal",{attrs:{title:t.modalTitle,"class-name":"vertical-center-modal","footer-hide":"",width:"700","mask-closable":!1},on:{"on-cancel":t.cancelUserFormModal},model:{value:t.editTalkingSkillFormModal,callback:function(e){t.editTalkingSkillFormModal=e},expression:"editTalkingSkillFormModal"}},[a("Form",{ref:"formValidate",attrs:{model:t.formValidate,"label-width":100}},[a("Row",{attrs:{gutter:16,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"内容",prop:"skillContent"}},[a("Input",{attrs:{rows:4,type:"textarea",autosize:{minRows:5,maxRows:10},placeholder:"Enter something..."},model:{value:t.formValidate.skillContent,callback:function(e){t.$set(t.formValidate,"skillContent",e)},expression:"formValidate.skillContent"}})],1)],1)],1),a("Row",{attrs:{gutter:16,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"16"}},[a("FormItem",{attrs:{label:"修改话术分类",prop:"lables"}},[a("Select",{attrs:{placeholder:"Select your lables"},model:{value:t.formValidate.lables,callback:function(e){t.$set(t.formValidate,"lables",e)},expression:"formValidate.lables"}},t._l(t.labelGroupList,function(e){return a("OptionGroup",{key:e.id,attrs:{label:e.groupName}},t._l(e.labels,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.label))])}),1)}),1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"状态",prop:"state"}},[a("RadioGroup",{model:{value:t.formValidate.state,callback:function(e){t.$set(t.formValidate,"state",e)},expression:"formValidate.state"}},[a("Radio",{attrs:{label:"0"}},[t._v("正常")]),a("Radio",{attrs:{label:"1"}},[t._v("禁用")])],1)],1)],1)],1),a("div",{staticClass:"flex-center"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v("提交")])],1)],1)],1),a("Modal",{attrs:{title:"话术详情",width:"980","footer-hide":"","class-name":"vertical-center-modal talkingSkillDetailModal"},model:{value:t.talkingSkillDetailModal,callback:function(e){t.talkingSkillDetailModal=e},expression:"talkingSkillDetailModal"}},[a("Form",{attrs:{"label-width":100}},[a("Row",{attrs:{gutter:16,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"12"}},[a("Row",{attrs:{gutter:24,type:"flex",justify:"start"}},[a("FormItem",{attrs:{label:"话术内容："}},[a("div",{staticClass:"talkingSkillContents",domProps:{innerHTML:t._s(t.tableDetailDataObj.skillContent)}},[t._v(t._s(t.tableDetailDataObj.skillContent))])])],1)],1),a("Col",{attrs:{span:"12"}},[a("Row",{attrs:{gutter:24,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"所属类目："}},[a("span",[t._v(t._s(t.tableDetailDataObj.lables))])])],1)],1),a("Row",{attrs:{gutter:24,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"状态："}},[a("span",[t._v(t._s("0"===t.tableDetailDataObj.state?"启用":"禁用"))])])],1)],1),a("Row",{attrs:{gutter:24,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"所属目录："}},[a("span",[t._v(t._s(t.tableDetailDataObj.belongCatalogName))])])],1)],1),a("Row",{attrs:{gutter:24,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"所属目录："}},[a("span",[t._v(t._s(t.tableDetailDataObj.belongCatalogName))])])],1)],1)],1)],1)],1)],1)],1)},o=[],n=(a("7f7f"),a("ac6a"),a("fa69")),i={name:"talking_skill_library",components:{Tables:n["a"]},data:function(){return{pageIndex:1,pageSize:10,totalNum:0,searchContent:"",isCreate:!0,columns:[{title:"选项",type:"selection",width:45,key:"selection"},{title:"序号",type:"index",key:"index",width:80,align:"center"},{title:"话术内容",key:"skillContent"},{title:"所属类目",key:"lables",width:150},{title:"目录名称",key:"belongCatalogName",width:100},{title:"拷贝数",key:"copyNum",width:100,align:"center"},{title:"收藏数",key:"comment",width:100,align:"center"},{title:"点赞数",key:"abulous",width:100,align:"center"},{title:"创建时间",key:"createDate",width:150},{title:"状态",key:"state",width:80,render:function(t,e){var a=0===e.row.state?"success":"error",l=0===e.row.state?"启用":"禁用";return t("Tag",{props:{color:a,title:l}},l)}},{title:"操作",key:"handle",width:130,options:["detail","edit","delete"]}],tableData:[],tableDetailDataObj:{},labelGroupList:[],modalTitle:"新增话术",talkingSkillDetailModal:!1,editTalkingSkillFormModal:!1,formValidate:{skillContent:"",state:"0",lables:""},contentId:""}},mounted:function(){this.getLoveword(),this.getLabelgroup()},methods:{getLoveword:function(){var t=this,e=this.searchContent?"/"+this.pageSize+"/"+this.pageIndex+"?skillContent="+this.searchContent:"/"+this.pageSize+"/"+this.pageIndex;this.instance.getLoveword(e).then(function(e){200===e.status&&(t.tableData=[],t.tableData=e.data.datas,t.totalNum=e.data.total,t.tableData.forEach(function(t,e){t.lables=value.lables[0]}))}).catch(function(t){console.log(t)})},getLabelgroup:function(){var t=this;this.instance.getLabelgroup("/9999/1").then(function(e){200===e.status&&(t.labelGroupList=[],t.labelGroupList=e.data.datas)}).catch(function(t){console.log(t)})},handleSearch:function(t){this.searchContent=t,this.getLoveword()},handleChangePageIndex:function(t){this.pageIndex=t,this.getLoveword()},handleChangePageSize:function(t){this.pageSize=t,this.getLoveword()},handleDetail:function(t){this.talkingSkillDetailModal=!0,this.tableDetailDataObj={},this.tableDetailDataObj=this.tableData[t.index]},handleAdd:function(t){this.isCreate=!0,this.editTalkingSkillFormModal=!0,this.modalTitle="新增话术"},handleEdit:function(t){this.isCreate=!1,this.editTalkingSkillFormModal=!0,this.modalTitle="修改话术",this.contentId=t.row.id,this.formValidate.skillContent=t.row.skillContent,this.formValidate.lables=t.row.lables[0]},handleDelete:function(t){this.deleteLovewordByIds(t.row.id)},handleBatchDeletion:function(t){var e=[];t.forEach(function(t,a){e.push(t.id)}),this.deleteLovewordByIds(e.toString())},handleUploadExcel:function(t,e){var a=this;if(e.length>0){var l=[];e.forEach(function(t,e){var a={lables:[]};a.skillContent=t["话术内容"],a.lables[0]=t["所属类目"],a.skillName="",a.creator="FLMheart",l.push(a)}),a.createOrUpdateLoveword("formValidate","create",l,"导入成功")}},handleSubmit:function(t){var e=this;e.$refs[t].validate(function(a){if(a){var l=[{skillName:"0",skillContent:e.formValidate.skillContent,lables:[e.formValidate.lables],creator:"FLMheart"}],o="create",n="创建成功";e.isCreate||(l=l[0],o="update",n="修改成功",l.id=e.contentId),e.createOrUpdateLoveword(t,o,l,n)}})},handleReset:function(t){this.$refs[t].resetFields()},createOrUpdateLoveword:function(t,e,a,l){var o=this;o.instance.createOrUpdateLoveword(e,a).then(function(e){200===e.status&&e.data?(o.talkingSkillDetailModal=!1,o.editTalkingSkillFormModal=!1,o.contentId="",o.handleReset(t),o.$Message.success(l),o.getLoveword()):o.$Message.info(resp.data)}).catch(function(t){console.log(t)})},cancelUserFormModal:function(){this.handleReset("formValidate")},deleteLovewordByIds:function(t){var e=this;e.instance.deleteLovewordByIds(t).then(function(t){200===t.status&&200===t.data.code?(e.$Message.success("删除成功！"),e.getLoveword()):e.$Message.info(resp.data)}).catch(function(t){console.log(t)})}}},s=i,r=(a("ab85"),a("2877")),d=Object(r["a"])(s,l,o,!1,null,"78f9c57b",null);e["default"]=d.exports},ab85:function(t,e,a){"use strict";var l=a("0d77"),o=a.n(l);o.a}}]);