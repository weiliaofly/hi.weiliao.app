(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5406f024"],{"0a0d":function(e,t,a){e.exports=a("e829")},"2f37":function(e,t,a){var r=a("63b6");r(r.S,"Date",{now:function(){return(new Date).getTime()}})},e0ab:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Card",{attrs:{bordered:!1}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":100}},[a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("提交")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleReset("formValidate")}}},[e._v("重置")])],1),a("FormItem",{attrs:{label:"商品名称",prop:"goodsName"}},[a("Input",{attrs:{placeholder:"Enter goodsName"},model:{value:e.formValidate.goodsName,callback:function(t){e.$set(e.formValidate,"goodsName",t)},expression:"formValidate.goodsName"}})],1),a("Row",{attrs:{gutter:16}},[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"商品图片",prop:"goodsImageList"}},[e._l(e.formValidate.goodsImageList,function(t,r){return a("div",{key:r,staticClass:"demo-upload-list"},["finished"===t.status?[a("img",{attrs:{src:t.url}}),a("div",{staticClass:"demo-upload-list-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){return e.handleView(t.name)}}}),a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(a){return e.handleRemove(t)}}})],1)]:[t.showProgress?a("Progress",{attrs:{percent:t.percentage,"hide-info":""}}):e._e()]],2)}),a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"show-upload-list":!1,"default-file-list":e.defaultList,"on-success":e.handleSuccess,format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.handleBeforeUpload,multiple:"",type:"drag",action:"//jsonplaceholder.typicode.com/posts/"}},[a("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[a("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)])],2)],1),a("Col",{attrs:{span:"3"}},[a("FormItem",{attrs:{label:"是否实体商品",prop:"isEntity"}},[a("RadioGroup",{model:{value:e.formValidate.isEntity,callback:function(t){e.$set(e.formValidate,"isEntity",t)},expression:"formValidate.isEntity"}},[a("Radio",{attrs:{label:"0"}},[e._v("是")]),a("Radio",{attrs:{label:"1"}},[e._v("否")])],1)],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"商品分类"}},[a("Select",{model:{value:e.formValidate.classify,callback:function(t){e.$set(e.formValidate,"classify",t)},expression:"formValidate.classify"}},[a("Option",{attrs:{value:"0"}},[e._v("保健养生")]),a("Option",{attrs:{value:"1"}},[e._v("休闲食品")]),a("Option",{attrs:{value:"2"}},[e._v("精美饰品")])],1)],1)],1),a("Col",{attrs:{span:"9"}},[a("FormItem",{attrs:{label:"兑换时间范围"}},[a("Row",[a("Col",{attrs:{span:"9"}},[a("FormItem",{attrs:{prop:"startTime"}},[a("DatePicker",{attrs:{type:"datetime",placeholder:"Select startTime"},model:{value:e.formValidate.startTime,callback:function(t){e.$set(e.formValidate,"startTime",t)},expression:"formValidate.startTime"}})],1)],1),a("Col",{staticClass:"tcenter",attrs:{span:"2"}},[e._v("-")]),a("Col",{attrs:{span:"9"}},[a("FormItem",{attrs:{prop:"endTime"}},[a("DatePicker",{attrs:{type:"datetime",placeholder:"Select endTime"},model:{value:e.formValidate.endTime,callback:function(t){e.$set(e.formValidate,"endTime",t)},expression:"formValidate.endTime"}})],1)],1),a("Col",{attrs:{span:"2"}},[a("Poptip",{attrs:{trigger:"hover",title:"提示",content:"时间不填写即不限"}},[a("Icon",{staticClass:"font-16 mgl10",attrs:{type:"md-help-circle"}})],1)],1)],1)],1)],1)],1),a("Row",[a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"商品运费"}},[a("InputNumber",{attrs:{type:"text",placeholder:"Enter freight",min:0},model:{value:e.formValidate.freight,callback:function(t){e.$set(e.formValidate,"freight",t)},expression:"formValidate.freight"}}),a("Poptip",{attrs:{trigger:"hover",title:"提示",content:"单位：元，默认0元，代表免运费"}},[a("Icon",{staticClass:"font-16 mgl10",attrs:{type:"md-help-circle"}})],1)],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"库存数量"}},[a("InputNumber",{attrs:{type:"text",placeholder:"Enter inventory",min:0},model:{value:e.formValidate.inventory,callback:function(t){e.$set(e.formValidate,"inventory",t)},expression:"formValidate.inventory"}})],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"原始兑换量"}},[a("InputNumber",{attrs:{type:"text",placeholder:"Enter exchangeOriginNum",min:0},model:{value:e.formValidate.exchangeOriginNum,callback:function(t){e.$set(e.formValidate,"exchangeOriginNum",t)},expression:"formValidate.exchangeOriginNum"}}),a("Poptip",{attrs:{trigger:"hover",title:"提示",content:"支持后台造假数据，前端显示为原始兑换加实际兑换"}},[a("Icon",{staticClass:"font-16 mgl10",attrs:{type:"md-help-circle"}})],1)],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"所需金币数"}},[a("InputNumber",{attrs:{type:"text",placeholder:"Enter needCoin",min:0},model:{value:e.formValidate.needCoin,callback:function(t){e.$set(e.formValidate,"needCoin",t)},expression:"formValidate.needCoin"}}),a("Poptip",{attrs:{trigger:"hover",title:"提示",content:"如果所需金币为0，那么商品只能通过金币购买"}},[a("Icon",{staticClass:"font-16 mgl10",attrs:{type:"md-help-circle"}})],1)],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"商品现价"}},[a("InputNumber",{attrs:{type:"text",placeholder:"Enter presentPrice",min:0},model:{value:e.formValidate.presentPrice,callback:function(t){e.$set(e.formValidate,"presentPrice",t)},expression:"formValidate.presentPrice"}}),a("Poptip",{attrs:{trigger:"hover",title:"提示",content:"实际价格，价格为0，则商品只能用金币兑换"}},[a("Icon",{staticClass:"font-16 mgl10",attrs:{type:"md-help-circle"}})],1)],1)],1),a("Col",{attrs:{span:"4"}},[a("FormItem",{attrs:{label:"商品原价"}},[a("InputNumber",{attrs:{type:"text",placeholder:"Enter originalPrice",min:0},model:{value:e.formValidate.originalPrice,callback:function(t){e.$set(e.formValidate,"originalPrice",t)},expression:"formValidate.originalPrice"}}),a("Poptip",{attrs:{trigger:"hover",title:"提示",content:"实际原价"}},[a("Icon",{staticClass:"font-16 mgl10",attrs:{type:"md-help-circle"}})],1)],1)],1)],1),a("FormItem",{attrs:{label:"商品描述"}},[a("Editor",{ref:"editor",attrs:{value:e.articleContentHtml},on:{"on-change":e.handleChangeEditor}})],1),a("FormItem",{attrs:{label:"商品备注"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"给自己看的，不在前端展示"},model:{value:e.formValidate.remarks,callback:function(t){e.$set(e.formValidate,"remarks",t)},expression:"formValidate.remarks"}})],1)],1)],1),a("Modal",{attrs:{title:"View Image"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.visible?a("img",{staticStyle:{width:"100%"},attrs:{src:"https://o5wwk8baw.qnssl.com/"+e.imgName+"/large"}}):e._e()])],1)},i=[],o=a("0a0d"),s=a.n(o),l=(a("7f7f"),a("a0f0")),n={name:"goodsAddOrUpdate",components:{Editor:l["a"]},data:function(){return{articleContentHtml:"",formValidate:{goodsName:"",isEntity:"0",classify:"0",startTime:"",endTime:"",goodsImageList:[],freight:0,inventory:0,exchangeOriginNum:0,exchangeNum:0,needCoin:0,presentPrice:0,originalPrice:0,remarks:""},defaultList:[{name:"a42bdcc1178e62b4694c830f028db5c0",url:"https://o5wwk8baw.qnssl.com/a42bdcc1178e62b4694c830f028db5c0/avatar"},{name:"bc7521e033abdd1e92222d733590f104",url:"https://o5wwk8baw.qnssl.com/bc7521e033abdd1e92222d733590f104/avatar"}],imgName:"",visible:!1,ruleValidate:{goodsName:[{required:!0,message:"The goodsName cannot be empty",trigger:"blur"}],goodsImageList:[{required:!0,type:"array",min:1,message:"Choose at least one hobby",trigger:"change"},{type:"array",max:5,message:"Choose two hobbies at best",trigger:"change"}]}}},computed:{editorId:function(){return"editor".concat(this._uid)}},mounted:function(){this.formValidate.goodsImageList=this.$refs.upload.fileList},methods:{handleSubmit:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(e){if(!a.formValidate.startTime&&a.formValidate.endTime)return void t.$Message.error("商品兑换起止时间不能只存在一个");if(a.formValidate.startTime&&!a.formValidate.endTime)return void t.$Message.error("商品兑换起止时间不能只存在一个");if(a.formValidate.startTime&&a.formValidate.endTime&&a.formValidate.startTime.valueOf()<s()()-864e5)return void t.$Message.error("起始时间不能小于今日!");if(a.formValidate.startTime&&a.formValidate.endTime&&a.formValidate.startTime.valueOf()>=a.formValidate.endTime.valueOf())return void t.$Message.error("起始时间不能大于结束时间");t.$Message.success("Success!")}else t.$Message.error("Fail!")})},handleReset:function(e){this.$refs[e].resetFields()},handleView:function(e){this.imgName=e,this.visible=!0},handleRemove:function(e){var t=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(t.indexOf(e),1)},handleSuccess:function(e,t){t.url="https://o5wwk8baw.qnssl.com/7eb99afb9d5f317c912f08b5212fd69a/avatar",t.name="7eb99afb9d5f317c912f08b5212fd69a"},handleFormatError:function(e){this.$Notice.warning({title:"The file format is incorrect",desc:"File format of "+e.name+" is incorrect, please select jpg or png."})},handleMaxSize:function(e){this.$Notice.warning({title:"Exceeding file size limit",desc:"File  "+e.name+" is too large, no more than 2M."})},handleBeforeUpload:function(){var e=this.formValidate.goodsImageList.length<5;return e||this.$Notice.warning({title:"Up to five pictures can be uploaded."}),e},handleChangeEditor:function(e){this.currentArticleContents=e}}},m=n,d=a("2877"),c=Object(d["a"])(m,r,i,!1,null,"95a0205a",null);t["default"]=c.exports},e829:function(e,t,a){a("2f37"),e.exports=a("584a").Date.now}}]);