(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c4c82"],{"3bfc":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Card",[a("tables",{ref:"tables",attrs:{searchable:"",searchInputAble:"",columns:e.columns,showAddBtn:!0,showBatchDeletionBtn:!0,totalNum:e.totalNum},on:{"on-add":e.handleAdd,"on-edit":e.handleEdit,"on-delete":e.handleDelete,"on-change-page-index":e.handleChangePageIndex,"on-change-page-size":e.handleChangePageSize,"on-batch-deletion":e.handleBatchArticleDeletion},model:{value:e.tableData,callback:function(t){e.tableData=t},expression:"tableData"}})],1)],1)},i=[],l=(a("ac6a"),a("fa69")),s={name:"article_list",components:{Tables:l["a"]},data:function(){return{pageIndex:1,pageSize:10,totalNum:0,searchContent:"",columns:[{title:"选项",type:"selection",width:45,key:"selection"},{title:"序号",type:"index",key:"index",width:80,align:"center"},{title:"文章标题",key:"title"},{title:"文章描述",key:"description"},{title:"标题图片",key:"titlePicture",render:function(e,t){return e("div",[e("img",{attrs:{src:t.row.titlePicture},class:"table-img"})])}},{title:"展示类型",key:"isBoutique",width:120,align:"center",render:function(e,t){var a="0"===t.row.isBoutique?"green":"gray",n="0"===t.row.isBoutique?"单张小图":"单张大图";return e("Tag",{props:{color:a}},n)}},{title:"文章分类",key:"articleClassificationName"},{title:"关键词",key:"articleKeywords"},{title:"作者",key:"creator"},{title:"发表时间",key:"lastUpdateDate",sortable:!0,render:function(e,t){return e("span",{},t.row.lastUpdateDate.slice(0,10))}},{title:"收藏数",key:"like",width:80,align:"center"},{title:"阅读数",key:"view",width:80,align:"center"},{title:"点赞数",key:"abulous",width:80,align:"center"},{title:"消耗金币",key:"needCoin",width:100,align:"center"},{title:"状态",key:"status",width:100,align:"center",render:function(e,t){var a=0===t.row.status?"warning":1===t.row.status?"primary":2===t.row.status?"success":"default",n=0===t.row.status?"草稿":1===t.row.status?"待审核":2===t.row.status?"发布":"删除";return e("Tag",{props:{color:a,title:n}},n)}},{title:"操作",key:"handle",options:["edit","delete"]}],tableData:[],tableDetailDataObj:{}}},mounted:function(){this.getArticle()},methods:{getArticle:function(){var e=this,t=this.searchContent?"/"+this.pageSize+"/"+this.pageIndex+"?skillContent="+this.searchContent:"/"+this.pageSize+"/"+this.pageIndex;this.instance.getArticle(t).then(function(t){200===t.status&&(e.tableData=[],e.tableData=t.data.datas,e.totalNum=t.data.total,e.tableData.forEach(function(e,t){e.lables=value.lables[0]}))}).catch(function(e){console.log(e)})},handleAdd:function(){this.$router.push({name:"write_article"})},handleEdit:function(e){this.$router.push({name:"write_article",query:{id:e.row.id}})},handleChangePageIndex:function(e){this.pageIndex=e,this.getArticle()},handleChangePageSize:function(e){this.pageSize=e,this.getArticle()},handleDelete:function(e){this.deleteArticleByIds(e.row.id)},handleBatchArticleDeletion:function(e){var t=[];e.forEach(function(e,a){t.push(e.id)}),this.deleteArticleByIds(t.toString())},deleteArticleByIds:function(e){var t=this;t.instance.deleteArticleByIds(e).then(function(e){200===e.status&&200===e.data.code?(t.$Message.success("删除成功！"),t.getArticle()):t.$Message.info(resp.data)}).catch(function(e){console.log(e)})}}},r=s,o=a("2877"),c=Object(o["a"])(r,n,i,!1,null,"2de73c36",null);t["default"]=c.exports}}]);