(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b91da"],{3227:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Card",[a("tables",{ref:"tables",attrs:{searchable:"",searchInputAble:"",searchDataRangeAble:"",columns:e.columns,showExportExcelBtn:!0},on:{"on-edit":e.handleEdit},model:{value:e.tableData,callback:function(t){e.tableData=t},expression:"tableData"}})],1),a("Modal",{attrs:{title:"退款处理","class-name":"vertical-center-modal","footer-hide":"","mask-closable":!1},on:{"on-cancel":e.cancelFormModal},model:{value:e.dealRefundModal,callback:function(t){e.dealRefundModal=t},expression:"dealRefundModal"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"上传凭证",prop:"goodsImageList"}},[e._l(e.formValidate.goodsImageList,function(t,i){return a("div",{key:i,staticClass:"demo-upload-list"},["finished"===t.status?[a("img",{attrs:{src:t.url}}),a("div",{staticClass:"demo-upload-list-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){return e.handleView(t.name)}}}),a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(a){return e.handleRemove(t)}}})],1)]:[t.showProgress?a("Progress",{attrs:{percent:t.percentage,"hide-info":""}}):e._e()]],2)}),a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"show-upload-list":!1,"default-file-list":e.defaultList,"on-success":e.handleSuccess,format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.handleBeforeUpload,multiple:"",type:"drag",action:"//jsonplaceholder.typicode.com/posts/"}},[a("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[a("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)]),a("div",{staticClass:"dy-font-color"},[e._v("(最多上传5张图片)")])],2),a("FormItem",{attrs:{label:"备注"}},[a("Input",{attrs:{placeholder:"Enter your name",clearable:""},model:{value:e.formValidate.remarks,callback:function(t){e.$set(e.formValidate,"remarks",t)},expression:"formValidate.remarks"}})],1),a("div",{staticClass:"flex-center"},[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("提交")])],1)],1)],1)],1)},o=[],l=(a("7f7f"),a("fa69")),n=a("7e1e"),s={name:"refundManagement",components:{Tables:l["a"]},data:function(){var e=this;return{columns:[{title:"选项",type:"selection",width:45,key:"selection"},{title:"序号",type:"index",key:"index",width:80,align:"center"},{title:"申请时间",key:"refundTime",sortable:!0,render:function(t,a){var i=e.COMMONFUNC.crtTimeFtt(a.row.refundTime,"yy-mm-dd hh-mm");return t("span",{style:{color:"red"}},i)}},{title:"缴纳用户",key:"nickName"},{title:"金额（元）",key:"amount",render:function(e,t){return e("span",{style:{color:"red"}},t.row.amount)}},{title:"缴纳时间",key:"createTime",sortable:!0},{title:"店铺编号",key:"shopId"},{title:"支付账户",key:"payAmount"},{title:"支付方式",key:"payTypeName"},{title:"店铺类型",key:"shopTypeName"},{title:"操作",key:"handle",options:["edit"]}],formValidate:{goodsImageList:[],remarks:""},ruleValidate:{goodsImageList:[{required:!0,type:"array",min:1,message:"Choose at least one hobby",trigger:"change"},{type:"array",max:5,message:"Choose two hobbies at best",trigger:"change"}]},defaultList:[{name:"a42bdcc1178e62b4694c830f028db5c0",url:"https://o5wwk8baw.qnssl.com/a42bdcc1178e62b4694c830f028db5c0/avatar"},{name:"bc7521e033abdd1e92222d733590f104",url:"https://o5wwk8baw.qnssl.com/bc7521e033abdd1e92222d733590f104/avatar"}],tableData:[],dealRefundModal:!1}},mounted:function(){var e=this;this.formValidate.goodsImageList=this.$refs.upload.fileList,Object(n["c"])().then(function(t){e.tableData=t.data})},methods:{handleEdit:function(e){this.dealRefundModal=!0},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?(t.$Message.success("Success!"),t.dealRefundModal=!1):t.$Message.error("Fail!")})},cancelFormModal:function(){this.handleReset("formValidate")},handleReset:function(e){this.$refs[e].resetFields()},handleView:function(e){this.imgName=e,this.visible=!0},handleRemove:function(e){var t=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(t.indexOf(e),1)},handleSuccess:function(e,t){t.url="https://o5wwk8baw.qnssl.com/7eb99afb9d5f317c912f08b5212fd69a/avatar",t.name="7eb99afb9d5f317c912f08b5212fd69a"},handleFormatError:function(e){this.$Notice.warning({title:"The file format is incorrect",desc:"File format of "+e.name+" is incorrect, please select jpg or png."})},handleMaxSize:function(e){this.$Notice.warning({title:"Exceeding file size limit",desc:"File  "+e.name+" is too large, no more than 2M."})},handleBeforeUpload:function(){var e=this.formValidate.goodsImageList.length<5;return e||this.$Notice.warning({title:"Up to five pictures can be uploaded."}),e}}},r=s,d=a("2877"),c=Object(d["a"])(r,i,o,!1,null,"d6eade3e",null);t["default"]=c.exports}}]);