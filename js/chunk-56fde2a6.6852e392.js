(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56fde2a6"],{"456d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",[a("tables",{ref:"tables",attrs:{searchable:"",searchInputAble:"",columns:t.columns,showBatchDeletionBtn:!0,showExportExcelBtn:!0},on:{"on-detail":t.handleDetail,"on-edit":t.handleEdit,"on-delete":t.handleDelete,"on-batch-deletion":t.handleBatchDeletion},model:{value:t.tableData,callback:function(e){t.tableData=e},expression:"tableData"}})],1),a("Modal",{attrs:{title:t.classificationModalTitle,"class-name":"vertical-center-modal","footer-hide":"","mask-closable":!1},on:{"on-cancel":t.cancelFormModal},model:{value:t.classificationModal,callback:function(e){t.classificationModal=e},expression:"classificationModal"}},[a("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":100}},[a("FormItem",{attrs:{label:"状态",prop:"state"}},[a("RadioGroup",{model:{value:t.formValidate.state,callback:function(e){t.$set(t.formValidate,"state",e)},expression:"formValidate.state"}},[a("Radio",{attrs:{label:"0"}},[t._v("启用")]),a("Radio",{attrs:{label:"1"}},[t._v("禁用")]),a("Radio",{attrs:{label:"2"}},[t._v("系统禁用（商家设置启用禁用无效）")])],1)],1),a("FormItem",{attrs:{label:"备注"}},[a("Input",{attrs:{placeholder:"Enter your remarks",clearable:""},model:{value:t.formValidate.remarks,callback:function(e){t.$set(t.formValidate,"remarks",e)},expression:"formValidate.remarks"}})],1),a("div",{staticClass:"flex-center"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v("提交")]),a("Button",{staticClass:"mgl10",on:{click:function(e){return t.handleReset("formValidate")}}},[t._v("重置")])],1)],1)],1),a("Modal",{attrs:{title:"商品详情",width:"980","footer-hide":"","mask-closable":!1,"class-name":"vertical-center-modal"},model:{value:t.detailModal,callback:function(e){t.detailModal=e},expression:"detailModal"}},[a("Form",{attrs:{"label-width":80}},[a("Row",{attrs:{gutter:16,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"18"}},[a("FormItem",{attrs:{label:"商品名称"}},[a("span",[t._v(t._s(t.tableDetailDataObj.commodityName))])])],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"状态"}},[a("span",[t._v(t._s("0"===t.tableDetailDataObj.state?"正常":"禁用"))])])],1)],1),a("Row",{attrs:{gutter:16,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"商品描述"}},[a("div",{staticClass:"contents",domProps:{innerHTML:t._s(t.tableDetailDataObj.commodityDecs)}},[t._v(t._s(t.tableDetailDataObj.commodityDecs))])])],1)],1),a("Row",{attrs:{gutter:16,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"商品编号"}},[a("span",[t._v(t._s(t.tableDetailDataObj.id))])])],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"商品图片"}},t._l(t.tableDetailDataObj.commodityImgs,function(e,i){return a("span",{key:i,on:{click:function(e){t.picturePreviewModal=!0}}},[a("Avatar",{attrs:{src:e,shape:"square",size:"large"}})],1)}),0)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"商品封面"}},[a("span",{on:{click:function(e){t.picturePreviewModal=!0}}},[a("Avatar",{attrs:{src:t.tableDetailDataObj.commodityCoverImg,shape:"square",size:"large"}})],1)])],1)],1),a("Row",{attrs:{gutter:16,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"系统备注"}},[a("span",[t._v(t._s(t.tableDetailDataObj.remarks))])])],1)],1)],1)],1),a("Modal",{attrs:{title:"点击图片预览","class-name":"vertical-center-modal",width:"620"},model:{value:t.picturePreviewModal,callback:function(e){t.picturePreviewModal=e},expression:"picturePreviewModal"}},[a("viewer",{staticClass:"flex-center",attrs:{images:t.previewPictureData}},t._l(t.previewPictureData,function(t){return a("div",{key:t.img,staticClass:"detailed"},[a("img",{staticClass:"preview-picture",attrs:{src:t.img,alt:""}})])}),0)],1)],1)},l=[],s=(a("ac6a"),a("7f7f"),a("fa69")),r=a("7e1e"),o={name:"commodity_manage",components:{Tables:s["a"]},data:function(){var t=this;return{columns:[{title:"选项",type:"selection",width:45,key:"selection"},{title:"序号",type:"index",key:"index",width:80,align:"center"},{title:"商品名称",key:"commodityName"},{title:"商品图片",key:"commodityImgs",render:function(e,a){return e("div",[e("span",t.tableData[a.index].commodityImgs.map(function(a){return e("img",{attrs:{src:a},class:"table-img",on:{click:function(){t.picturePreviewModal=!0}}},a)}))])}},{title:"商品封面",key:"commodityCoverImg",width:100,render:function(e,a){return e("div",[e("img",{attrs:{src:a.row.commodityCoverImg},class:"table-img",on:{click:function(){t.videoPreviewModal=!0}}})])}},{title:"商品描述",key:"commodityDecs"},{title:"店主",key:"shopkeeper"},{title:"备注",key:"remarks"},{title:"状态",key:"state",width:100,render:function(t,e){var a="0"===e.row.state?"success":"1"===e.row.state?"warning":"error",i="0"===e.row.state?"启用":"1"===e.row.state?"禁用":"系统禁用";return t("Tag",{props:{color:a}},i)}},{title:"操作",key:"handle",width:120,options:["detail","delete","edit"]}],formValidate:{state:"1",remarks:""},ruleValidate:{state:[{required:!0,message:"状态不能为空",trigger:"change"}]},previewPictureData:[{img:"https://file.iviewui.com/dist/a0e88e83800f138b94d2414621bd9704.png"},{img:"https://i.loli.net/2017/08/21/599a521472424.jpg"}],classificationModal:!1,picturePreviewModal:!1,detailModal:!1,tableDetailDataObj:{},classificationModalTitle:"",tableData:[]}},methods:{handleDetail:function(t){this.detailModal=!0,this.tableDetailDataObj={},this.tableDetailDataObj=this.tableData[t.index]},handleEdit:function(t){this.classificationModalTitle="修改商品",this.formValidate.state=t.row.state,this.formValidate.remarks=t.row.remarks,this.classificationModal=!0},handleDelete:function(t){this.tableData=this.tableData.filter(function(e,a){return a!==t.row.initRowIndex})},handleSubmit:function(t){var e=this,a=this;a.$refs[t].validate(function(i){i&&(a.classificationModal=!1,e.$refs[t].resetFields(),a.$Message.success("提交成功!"))})},handleReset:function(t){this.$refs[t].resetFields()},handleBatchDeletion:function(t){var e=this;t.forEach(function(t,a){e.tableData=e.tableData.filter(function(e,a){return a!==t.initRowIndex})}),e.$Message.success("删除成功!")},cancelFormModal:function(){this.handleReset("formValidate")}},mounted:function(){var t=this;Object(r["u"])().then(function(e){t.tableData=e.data})}},n=o,c=(a("9c81"),a("2877")),d=Object(c["a"])(n,i,l,!1,null,"03ec5bb9",null);e["default"]=d.exports},"9c81":function(t,e,a){"use strict";var i=a("e114"),l=a.n(i);l.a},e114:function(t,e,a){}}]);