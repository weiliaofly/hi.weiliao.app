(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37a6029c"],{"27e9":function(e,t,a){"use strict";var l=a("3748"),i=a.n(l);i.a},3748:function(e,t,a){},"9ae9":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Card",[a("tables",{ref:"tables",attrs:{searchable:"",searchInputAble:"",columns:e.columns,showAddBtn:!0,showBatchDeletionBtn:!0},on:{"on-add":e.handleAdd,"on-edit":e.handleEdit,"on-delete":e.handleDelete,"on-batch-deletion":e.handleBatchDeletion},model:{value:e.tableData,callback:function(t){e.tableData=t},expression:"tableData"}})],1),a("Modal",{attrs:{title:e.addOrUpdateFormModalTitle,"class-name":"vertical-center-modal addOrUpdateFormModal","footer-hide":"",width:"980","mask-closable":!1},on:{"on-cancel":e.cancelFormModal},model:{value:e.addOrUpdateFormModal,callback:function(t){e.addOrUpdateFormModal=t},expression:"addOrUpdateFormModal"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleInline,"label-width":80}},[a("Row",{attrs:{gutter:16,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"18"}},[a("FormItem",{attrs:{prop:"encyclopediasQuestion",label:"百科问题"}},[a("Input",{attrs:{type:"text",placeholder:"请输入百科回答，最多120个字符"},model:{value:e.formValidate.encyclopediasQuestion,callback:function(t){e.$set(e.formValidate,"encyclopediasQuestion",t)},expression:"formValidate.encyclopediasQuestion"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("发表百科")])],1)],1),a("Row",{attrs:{gutter:16,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"百科分类"}},[a("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"Select your encyclopediasClassificationValue",filterable:""},model:{value:e.formValidate.encyclopediasClassificationValue,callback:function(t){e.$set(e.formValidate,"encyclopediasClassificationValue",t)},expression:"formValidate.encyclopediasClassificationValue"}},e._l(e.classificationList,function(t,l){return a("OptionGroup",{key:l,attrs:{label:t.label}},e._l(t.list,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)}),1)],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"消费金币"}},[a("InputNumber",{attrs:{type:"text",placeholder:"Enter freight",min:0},model:{value:e.formValidate.needCoin,callback:function(t){e.$set(e.formValidate,"needCoin",t)},expression:"formValidate.needCoin"}}),a("Poptip",{attrs:{trigger:"hover",title:"提示",content:"0代表免费"}},[a("Icon",{staticClass:"font-16 mgl10",attrs:{type:"md-help-circle"}})],1)],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"状态"}},[a("RadioGroup",{model:{value:e.formValidate.state,callback:function(t){e.$set(e.formValidate,"state",t)},expression:"formValidate.state"}},[a("Radio",{attrs:{label:"0"}},[e._v("启用")]),a("Radio",{attrs:{label:"1"}},[e._v("禁用")])],1)],1)],1)],1),a("div",{staticClass:"flex-space-between mgb15"},[a("div",{staticClass:"dy-font-color"},[e._v("百科回答")]),a("Button",{attrs:{type:"primary"},on:{click:e.clearRichText}},[e._v("清空文本")])],1),a("Editor",{ref:"editor",attrs:{value:e.formValidate.encyclopediasAnswer},on:{"on-change":e.handleChangeEditor}})],1)],1)],1)},i=[],n=(a("7f7f"),a("ac6a"),a("fa69")),o=a("a0f0"),s=a("7e1e"),r={name:"encyclopedias_list",components:{Tables:n["a"],Editor:o["a"]},data:function(){return{columns:[{title:"选项",type:"selection",width:45,key:"selection"},{title:"序号",type:"index",key:"index",width:80,align:"center"},{title:"百科问题",key:"encyclopediasQuestion"},{title:"百科分类",key:"encyclopediasClassificationName"},{title:"所属类目",key:"belongCatalogName"},{title:"发表时间",key:"createTime",sortable:!0},{title:"有用数",key:"favoriteNum"},{title:"阅读数",key:"readNum"},{title:"付费金币",key:"needCoin"},{title:"状态",key:"state",render:function(e,t){var a="0"===t.row.state?"success":"default",l="0"===t.row.state?"是":"否";return e("Tag",{props:{color:a,title:l}},l)}},{title:"操作",key:"handle",options:["edit","delete"]}],tableData:[],addOrUpdateFormModal:!1,addOrUpdateFormModalTitle:"",currentContents:"",formValidate:{encyclopediasQuestion:"",encyclopediasAnswer:"",needCoin:0,encyclopediasClassificationValue:"0",state:"0"},ruleInline:{encyclopediasQuestion:[{required:!0,message:"Please fill in the encyclopediasQuestion",trigger:"blur"}],encyclopediasAnswer:[{required:!0,message:"Please fill in the encyclopediasAnswer",trigger:"blur"}],encyclopediasClassificationValue:[{required:!0,message:"Please fill in the encyclopediasClassificationValue",trigger:"change"}],state:[{required:!0,message:"Please fill in the state",trigger:"change"}]},classificationList:[{label:"单身期",list:[{value:"0",label:"聊天搭讪"},{value:"1",label:"形象改造"}]},{label:"追求期",list:[{value:"2",label:"表白"},{value:"3",label:"约会"}]}]}},methods:{handleAdd:function(){this.addOrUpdateFormModalTitle="新增百科",this.addOrUpdateFormModal=!0},handleEdit:function(e){this.addOrUpdateFormModalTitle="修改百科",this.formValidate.encyclopediasQuestion=e.row.encyclopediasQuestion,this.formValidate.encyclopediasAnswer=e.row.encyclopediasAnswer,this.formValidate.needCoin=e.row.needCoin,this.formValidate.encyclopediasClassificationValue=e.row.encyclopediasClassificationValue,this.formValidate.state=e.row.state,this.addOrUpdateFormModal=!0},handleDelete:function(e){this.tableData=this.tableData.filter(function(t,a){return a!==e.row.initRowIndex})},handleBatchDeletion:function(e){var t=this;e.forEach(function(e,a){t.tableData=t.tableData.filter(function(t,a){return a!==e.initRowIndex})}),t.$Message.success("删除成功!")},handleChangeEditor:function(e){this.currentContents=e},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.$Message.success("Success!"):t.$Message.error("Fail!")})},handleReset:function(e){this.$refs[e].resetFields()},clearRichText:function(){var e=this;e.$Modal.confirm({title:"提示",content:"<p>清空后不可还原，是否清空</p>",onOk:function(){e.$refs.editor.setHtml("<p></p>")},onCancel:function(){}})},cancelFormModal:function(){this.handleReset("formValidate")}},mounted:function(){var e=this;Object(s["j"])().then(function(t){e.tableData=t.data})}},c=r,d=(a("27e9"),a("2877")),u=Object(d["a"])(c,l,i,!1,null,"3f8fa15d",null);t["default"]=u.exports}}]);