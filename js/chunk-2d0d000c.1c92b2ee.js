(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d000c"],{"65b9":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Card",[a("tables",{ref:"tables",attrs:{searchable:"",searchInputAble:"",columns:e.columns,showBatchDeletionBtn:!0,showExportExcelBtn:!0},on:{"on-detail":e.handleDetail,"on-edit":e.handleEdit,"on-delete":e.handleDelete,"on-batch-deletion":e.handleBatchDeletion},model:{value:e.tableData,callback:function(t){e.tableData=t},expression:"tableData"}})],1),a("Modal",{attrs:{title:"橱窗详情",width:"980","class-name":"vertical-center-modal"},model:{value:e.detailModal,callback:function(t){e.detailModal=t},expression:"detailModal"}},[a("Form",{attrs:{"label-width":80}},[a("Row",{attrs:{gutter:16,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"橱窗编号："}},[a("span",[e._v(e._s(e.tableDetailDataObj.id))])])],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"用户昵称："}},[a("span",[e._v(e._s(e.tableDetailDataObj.nickName))])])],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"用户头像："}},[a("Avatar",{attrs:{src:e.tableDetailDataObj.avatar}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"电话："}},[a("span",[e._v(e._s(e.tableDetailDataObj.telephone))])])],1)],1),a("Row",{attrs:{gutter:16,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"开店时间："}},[a("span",[e._v(e._s(e.tableDetailDataObj.createTime))])])],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"橱窗类型："}},[a("span",[e._v(e._s(e.tableDetailDataObj.showcaseClassificationName))])])],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"是否消保："}},[a("span",[e._v(e._s(0===e.tableDetailDataObj.isConsumerProtection?"是":"否"))])])],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"状态："}},[a("span",[e._v(e._s("0"===e.tableDetailDataObj.state?"正常":"禁用"))])])],1)],1),a("Row",{attrs:{gutter:16,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"发货地址："}},[a("span",[e._v(e._s(e.tableDetailDataObj.address))])])],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"商品数量："}},[a("span",[e._v(e._s(e.tableDetailDataObj.commodityNum))])])],1)],1),a("Row",{attrs:{gutter:16,type:"flex",justify:"start"}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"系统备注："}},[a("span",[e._v(e._s(e.tableDetailDataObj.remarks))])])],1)],1)],1)],1),a("Modal",{attrs:{title:e.classificationModalTitle,"class-name":"vertical-center-modal","footer-hide":"","mask-closable":!1},on:{"on-cancel":e.cancelFormModal},model:{value:e.classificationModal,callback:function(t){e.classificationModal=t},expression:"classificationModal"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":100}},[a("FormItem",{attrs:{label:"状态",prop:"state"}},[a("RadioGroup",{model:{value:e.formValidate.state,callback:function(t){e.$set(e.formValidate,"state",t)},expression:"formValidate.state"}},[a("Radio",{attrs:{label:"0"}},[e._v("启用")]),a("Radio",{attrs:{label:"1"}},[e._v("禁用")]),a("Radio",{attrs:{label:"2"}},[e._v("系统禁用（商家设置启用禁用无效）")])],1)],1),2==e.formValidate.state?a("FormItem",{attrs:{label:"禁用时间",prop:"forbbidTime"}},[a("Select",{model:{value:e.formValidate.forbbidTime,callback:function(t){e.$set(e.formValidate,"forbbidTime",t)},expression:"formValidate.forbbidTime"}},[a("Option",{attrs:{value:"3"}},[e._v("3天")]),a("Option",{attrs:{value:"30"}},[e._v("30天")]),a("Option",{attrs:{value:"forever"}},[e._v("永久")])],1)],1):e._e(),a("FormItem",{attrs:{label:"备注"}},[a("Input",{attrs:{placeholder:"Enter your remarks",clearable:""},model:{value:e.formValidate.remarks,callback:function(t){e.$set(e.formValidate,"remarks",t)},expression:"formValidate.remarks"}})],1),a("div",{staticClass:"flex-center"},[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("提交")]),a("Button",{staticClass:"mgl10",on:{click:function(t){return e.handleReset("formValidate")}}},[e._v("重置")])],1)],1)],1),a("Modal",{attrs:{title:e.breakRulesRecordTitle,"footer-hide":"","class-name":"vertical-center-modal",width:"980"},model:{value:e.breakRulesRecordModal,callback:function(t){e.breakRulesRecordModal=t},expression:"breakRulesRecordModal"}},[a("Card",[a("tables",{ref:"tables",attrs:{columns:e.breakRulesListTableColumns},model:{value:e.breakRulesListTableData,callback:function(t){e.breakRulesListTableData=t},expression:"breakRulesListTableData"}})],1)],1)],1)},s=[],i=(a("ac6a"),a("7f7f"),a("fa69")),r=a("7e1e"),o={name:"showcase_manage",components:{Tables:i["a"]},data:function(){var e=this;return{columns:[{title:"选项",type:"selection",width:45,key:"selection"},{title:"序号",type:"index",key:"index",width:80,align:"center"},{title:"店主",key:"shopkeeper"},{title:"联系电话",key:"telephone",width:120,align:"center"},{title:"开店时间",key:"createTime",width:100,align:"center"},{title:"是否消保",key:"isConsumerProtection",width:90,align:"center",render:function(e,t){var a=0===t.row.isConsumerProtection?"success":"error",l=0===t.row.isConsumerProtection?"是":"否";return e("Tag",{props:{color:a}},l)}},{title:"橱窗分类",key:"showcaseClassificationName",width:100,align:"center"},{title:"发货地址",key:"address"},{title:"商品数量",key:"commodityNum",width:100,align:"center"},{title:"违规次数",key:"breakRulesTimes",width:90,align:"center",render:function(t,a){return t("span",{class:a.row.breakRulesTimes>0?"a-href":"",on:{click:function(){a.row.breakRulesTimes>0&&(e.breakRulesRecordTitle=a.row.shopkeeper+"的店铺违规记录",e.breakRulesRecordModal=!0)}}},a.row.breakRulesTimes)}},{title:"状态",key:"state",width:100,align:"center",render:function(e,t){var a="0"===t.row.state?"success":"1"===t.row.state?"warning":"error",l="0"===t.row.state?"启用":"1"===t.row.state?"禁用":"系统禁用";return e("Tag",{props:{color:a}},l)}},{title:"操作",key:"handle",width:120,align:"center",options:["detail","delete","edit"]}],breakRulesListTableColumns:[{title:"违规内容",key:"contents"},{title:"投诉链接",key:"compaintsId",width:90,align:"center"},{title:"处罚结果",key:"result",width:90,align:"center"},{title:"违规备注",key:"remarks"},{title:"处理人",key:"dealUser",width:90,align:"center"},{title:"处理时间",key:"dealTime",width:100,align:"center"},{title:"状态",key:"state",width:100,align:"center",render:function(e,t){var a=0===t.row.state?"success":"error",l=0===t.row.state?"已结束":"执行中";return e("Tag",{props:{color:a}},l)}}],breakRulesListTableData:[],formValidate:{state:"1",remarks:"",forbbidTime:"3"},ruleValidate:{showcaseClassification:[{required:!0,message:"请选择橱窗分类",trigger:"change"}]},classificationModal:!1,detailModal:!1,breakRulesRecordModal:!1,breakRulesRecordTitle:"",classificationModalTitle:"",tableDetailDataObj:{},tableData:[]}},methods:{handleDetail:function(e){this.detailModal=!0,this.tableDetailDataObj={},this.tableDetailDataObj=this.tableData[e.index]},handleEdit:function(e){this.classificationModalTitle="修改橱窗",this.formValidate.showcaseClassification=e.row.showcaseClassification,this.formValidate.state=e.row.state,this.formValidate.remarks=e.row.remarks,this.classificationModal=!0},handleDelete:function(e){this.tableData=this.tableData.filter(function(t,a){return a!==e.row.initRowIndex})},handleSubmit:function(e){var t=this,a=this;a.$refs[e].validate(function(l){l&&(a.classificationModal=!1,t.$refs[e].resetFields(),a.$Message.success("提交成功!"))})},handleBatchDeletion:function(e){var t=this;e.forEach(function(e,a){t.tableData=t.tableData.filter(function(t,a){return a!==e.initRowIndex})}),t.$Message.success("删除成功!")},handleReset:function(e){this.$refs[e].resetFields()},cancelFormModal:function(){this.handleReset("formValidate")}},mounted:function(){var e=this;Object(r["u"])().then(function(t){e.tableData=t.data}),Object(r["d"])().then(function(t){e.breakRulesListTableData=t.data})}},n=o,c=a("2877"),d=Object(c["a"])(n,l,s,!1,null,"812f8ae8",null);t["default"]=d.exports}}]);